{% extends 'layout.html' %}

{% block body %}

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      {% for message in messages %}
        <div id="flash" class="alert alert-success" role="alert" style="position: relative">
          {{ message }}
          <span id="flash-close" style="position: absolute; right: 20px;"> 
            <i class="fas fa-times"></i>
          </span>
        </div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <div class="row mb-2">
    <div class="col-7 ml-2">
      <h3 style="display: inline-block;">{{ restaurant.name }}</h3>
      {% if is_owner %}
      (
      <a href="{{ url_for('edit_restaurant', restaurant_id=restaurant.id) }}">Edit</a> | 
      <a href="{{ url_for('delete_restaurant', restaurant_id=restaurant.id) }}">Delete</a> | 
      <a href="{{ url_for('add_menu_item', restaurant_id=restaurant.id) }}">Add Item</a>
      )
      {% endif %}
    </div>
  </div>
  <hr><br>

  <div class="row justify-content-center">
  {% for item in menu_items %}
  <div class="card col-sm-10 col-md-5 col-lg-3 m-1">
    <div class="card-body">
      <h5 class="card-title">{{ item.name }} | {{ item.price }}</h5>
      <h6 class="card-subtitle mb-2 text-muted">{{ item.course }}</h6>
      <p class="card-text">{{ item.description }}</p>
      {% if is_owner %}
      <a href="{{ url_for('edit_menu_item', restaurant_id=restaurant.id, item_id=item.id) }}" class="card-link">Edit</a>
      <a href="{{ url_for('delete_menu_item', restaurant_id=restaurant.id, item_id=item.id) }}" class="card-link">Delete</a>
      {% endif %}
    </div>
  </div>
  {% endfor %}
  </div>

{% endblock %}
